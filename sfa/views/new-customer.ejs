<!DOCTYPE html>
<html>

<head>
    <% include templates/common/header.ejs %>
</head>

<body ng-app="customersModule">
<div id="wrapper" ng-controller="SessionController as sessionCtrl" ng-init="sessionCtrl.initCtrl('<%= user %>')">
    <% include templates/common/nav-bar.ejs %>
    <div id="page-wrapper">
        <div class="container-fluid">

            <% include templates/common/breadcrumbs.ejs %>

            <div class="row-align-center">
                <div class="span6">
                    <form ng-controller="NewCustomerController as customerCtrl" ng-init="customerCtrl.initCtrl()" ng-submit="customerCtrl.addCustomer()">

                        <!-- Customer ID -->
                        <div class="form-group row">
                            <label for="customer_id" class="col-sm-2 col-form-label"> ID </label>
                            <div class="col-sm-10">
                                <input name="customer_id" ng-model="customerCtrl.newCustomer.CodCliente"
                                       value="{{customerCtrl.newCustomer.CodCliente}}"
                                       type="text" class="form-control" placeholder="ID de cliente" required>
                            </div>
                        </div>

                        <!-- Customer Name -->
                        <div class="form-group row">
                            <label for="customer_name" class="col-sm-2 col-form-label"> Nome </label>
                            <div class="col-sm-10">
                                <input name="customer_name" ng-model="customerCtrl.newCustomer.Nome"
                                       value="{{customerCtrl.newCustomer.Nome}}"
                                       type="text" class="form-control" placeholder="Nome do cliente" required>
                            </div>
                        </div>

                        <!-- Fiscal Name -->
                        <div class="form-group row">
                            <label for="fiscal_name" class="col-sm-2 col-form-label"> Nome Fiscal </label>
                            <div class="col-sm-10">
                                <input name="fiscal_name" ng-model="customerCtrl.newCustomer.NomeFiscal"
                                       value="{{customerCtrl.newCustomer.NomeFiscal}}"
                                       type="text" class="form-control" placeholder="Nome fiscal" required>
                            </div>
                        </div>

                        <!-- NIF -->
                        <div class="form-group row">
                            <label for="nif" class="col-sm-2 col-form-label"> NIF </label>
                            <div class="col-sm-10">
                                <input name="nif" ng-model="customerCtrl.newCustomer.NumContribuinte"
                                       value="{{customerCtrl.newCustomer.NumContribuinte}}"
                                       type="text" class="form-control" placeholder="NIF" required>
                            </div>
                        </div>

                        <!-- Address -->
                        <div class="form-group row">
                            <label for="address" class="col-sm-2 col-form-label"> Morada </label>
                            <div class="col-sm-10">
                                <input name="address" ng-model="customerCtrl.newCustomer.Fac_Mor"
                                       value="{{customerCtrl.newCustomer.Fac_Mor}}"
                                       type="text" class="form-control" placeholder="Morada">
                            </div>
                        </div>

                        <!-- Email -->
                        <div class="form-group row">
                            <label for="email" class="col-sm-2 col-form-label"> Email </label>
                            <div class="col-sm-10">
                                <input name="email" ng-model="customerCtrl.newCustomer.Email"
                                       value="{{customerCtrl.newCustomer.Email}}"
                                       type="email" class="form-control" placeholder="Email">
                            </div>
                        </div>

                        <!-- Telefone -->
                        <div class="form-group row">
                            <label for="telephone" class="col-sm-2 col-form-label"> Telefone </label>
                            <div class="col-sm-10">
                                <input name="telephone" ng-model="customerCtrl.newCustomer.Fac_Tel"
                                       value="{{customerCtrl.newCustomer.Fac_Tel}}"
                                       type="tel" class="form-control" placeholder="Telefone">
                            </div>
                        </div>

                        <!-- Desconto -->
                        <div class="form-group row">
                            <label for="desc" class="col-sm-2 col-form-label"> Desconto </label>
                            <div class="col-sm-10">
                                <input name="desc" ng-model="customerCtrl.newCustomer.DescEntidade"
                                       value="{{customerCtrl.newCustomer.DescEntidade}}"
                                       type="number" class="form-control" placeholder="Desconto (%)">
                            </div>
                        </div>

                        <div class="form-group row">
                            <label for="event-type" class="col-sm-2 col-form-label"> Condição de pagamento </label>
                            <div class="col-sm-7">
                                <div>
                                    <select id="pay-selector" class="form-control"
                                            title="Condição de pagamento" data-live-search="false" data-dropup-auto="false">
                                        <option ng-repeat="type in customerCtrl.condPags"
                                                value="{{type.condPag}}" data-subtext="&emsp;{{type.Descricao}} ">
                                            {{type.Descricao}}
                                        </option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <!-- Buttons -->
                        <div class="form-group row">
                            <div class="col-sm-10 col-sm-offset-2">
                                <button type="submit" class="btn btn-primary btn-block" ng-disabled="customerCtrl.waitingAPIResponse"> Adicionar cliente</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <% include templates/common/footer.ejs %>
    </div>
</div>

<script type="text/javascript" src="javascripts/custom/customers-module.js"></script>
</body>
</html>